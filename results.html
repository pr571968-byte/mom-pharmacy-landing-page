<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Search results - MOM Pharmacy</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root { --pink:#FA5899; }
    *{box-sizing:border-box} html,body{margin:0;padding:0;font-family:Inter,system-ui,sans-serif;color:#111}
    .wrap{max-width:1000px;margin:32px auto;padding:0 16px}
    h1{font:700 28px/1.3 Inter,sans-serif;color:var(--pink);margin:0 0 8px}
    .q{color:#555;margin:0 0 16px}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    .card{border:1px solid #eee;border-radius:12px;padding:12px}
    .name{font:600 16px/1.4 Inter,sans-serif;margin:0 0 6px}
    .desc{font:400 14px/1.5 Inter,sans-serif;color:#444;margin:0}
    .btn{display:inline-block;margin-top:10px;height:36px;padding:0 12px;border-radius:8px;border:none;background:var(--pink);color:#fff;font:600 14px/1.4 Inter,sans-serif;cursor:pointer}
    .langFab{position:fixed;right:16px;top:12px;z-index:9999}
    .langBtn{height:36px;padding:0 12px;border-radius:9999px;border:1px solid #ddd;background:#fff;cursor:pointer;font:600 14px/1.4 Inter}
    .langPanel{display:none;position:absolute;right:0;top:42px;background:#fff;border:1px solid #eee;border-radius:8px;box-shadow:0 6px 20px rgba(0,0,0,.12);padding:8px}
    .langPanel.open{display:block}
  </style>
</head>
<body>
  <div class="langFab">
    <button class="langBtn" id="langBtn">Languages</button>
    <div class="langPanel" id="langPanel"><div id="google_translate_element"></div></div>
  </div>
  <div class="wrap">
    <h1>Search results</h1>
    <p id="query" class="q"></p>
    <div id="list" class="grid"></div>
  </div>
  <script>
    window.googleTranslateElementInit = function(){
      new google.translate.TranslateElement({pageLanguage:'en'}, 'google_translate_element');
    };
    (function(){var s=document.createElement('script');s.src='//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit';document.body.appendChild(s);}());
    document.addEventListener('click', function(e){
      const b=e.target.closest('#langBtn'); const p=document.getElementById('langPanel');
      if(b){ e.preventDefault(); p&&p.classList.toggle('open'); return; }
      if(!e.target.closest('#langPanel')){ p&&p.classList.remove('open'); }
    });
    const MEDICINES = [
      { name: 'Paracetamol 500mg', desc: 'Pain reliever and fever reducer.' },
      { name: 'Dolo 650', desc: 'Acetaminophen tablet for fever and pain.' },
      { name: 'Crocin Advance', desc: 'Paracetamol brand for pain and fever.' },
      { name: 'Amoxicillin 250mg', desc: 'Antibiotic for bacterial infections.' },
      { name: 'Amoxyclav 625', desc: 'Amoxicillin + Clavulanic acid.' },
      { name: 'Azithromycin 500mg', desc: 'Antibiotic for infections.' },
      { name: 'Cetirizine', desc: 'Antihistamine for allergies.' },
      { name: 'Allegra', desc: 'Fexofenadine antihistamine.' },
      { name: 'Ibuprofen 200mg', desc: 'NSAID pain reliever.' },
      { name: 'Diclofenac Gel', desc: 'Topical pain relief gel.' },
      { name: 'Omeprazole 20mg', desc: 'Reduces stomach acid.' },
      { name: 'Pantoprazole 40mg', desc: 'Proton pump inhibitor.' },
      { name: 'Metformin 500mg', desc: 'Type 2 diabetes control.' },
      { name: 'Glimipride 1mg', desc: 'Antidiabetic medication.' },
      { name: 'ORS Powder', desc: 'Oral rehydration salts.' },
      { name: 'Glucon-D', desc: 'Instant energy drink mix.' },
      { name: 'Vitamin C 1000mg', desc: 'Immune support supplement.' },
      { name: 'Zincovit', desc: 'Multivitamin and multimineral.' },
    ];

    const params = new URLSearchParams(location.search);
    const q = (params.get('q') || '').trim();
    document.getElementById('query').textContent = 'for "' + q + '"';

    function filter(query){
      const s = query.toLowerCase();
      if (!s || s.length < 2) return MEDICINES;
      return MEDICINES.filter(m => m.name.toLowerCase().includes(s) || (m.desc||'').toLowerCase().includes(s));
    }

    function render(items){
      const list = document.getElementById('list');
      list.innerHTML = '';
      if(items.length === 0){
        list.innerHTML = '<div class="card"><div class="name">No results</div><p class="desc">Try another search term.</p></div>';
        return;
      }
      items.forEach(item => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = '<div class="name">' + escapeHtml(item.name) + '</div>'+
                         '<p class="desc">' + escapeHtml(item.desc) + '</p>'+
                         '<button class="btn" data-name="' + encodeURIComponent(item.name) + '">Order</button>';
        list.appendChild(card);
      });
    }

    function escapeHtml(str){
      return String(str).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#039;');
    }

    render(filter(q));

    document.addEventListener('click', function(e){
      const btn = e.target.closest('.btn');
      if(!btn) return;
      const name = decodeURIComponent(btn.getAttribute('data-name'));
      location.href = './product.html?item=' + encodeURIComponent(name);
    });
  </script>
</body>
</html>



